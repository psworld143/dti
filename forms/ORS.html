<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="stylesheet" href="CSS/dashboard.css">
    <link rel="stylesheet" href="CSS/sidebar.css">
    <link rel="stylesheet" href="CSS/ORS.css">
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="logo-container">
                <img src="pictures/dti_logo.png" alt="Company Logo">
                <div class="logo-text">
                    <h2>DTI</h2>
                    <span class="admin-text">Book Keeper</span>
                </div>
            </div>
           
            </a>
            <div class="nav-item dropdown">
                <div class="dropdown-header">
                    <ion-icon name="cash-outline"></ion-icon>
                    <span class="nav-text">Forms</span>
                    <ion-icon name="chevron-down-outline" class="dropdown-icon"></ion-icon>
                </div>
                <div class="dropdown-content">
                    <a href="ORS.html" class="dropdown-item">
                        <span class="nav-text">Obligation Request</span>
                    </a>
                    <a href="DV.html" class="dropdown-item">
                        <span class="nav-text">DV & JE</span>
                    </a>
                  
                </div>
            </div>
           
        </div>

        
        <div class="main-content">
            <div class="header">
                <h1>Obligation Request And Status</h1>
                <button class="btn btn-primary" onclick="window.print()">
                    <ion-icon name="print-outline"></ion-icon>
                    Print Form
                </button>
            </div>
            <div class="content-wrapper">
                <div class="form-container">
                    <h2 class="form-title">Obligation Request And Status</h2>
                    
                    <!-- General Information Section -->
                    <div class="form-section">
                        <h3>General Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Fund Cluster</label>
                                <select class="form-control">
                                    <option>Regular Agency Fund (01)</option>
                                    <option>Special Purpose Fund (02)</option>
                                    <option>Trust Receipts (03)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Date</label>
                                <input type="date" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Disbursement Voucher No.</label>
                                <input type="text" class="form-control">
                            </div>
                        </div>
                    </div>
                    
                   
                    <!-- Payee Details Section -->
                    <div class="form-section">
                        <h3> Payee Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Payee Name</label>
                                <input type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">TIN/Employee No.</label>
                                <input type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <select class="form-control">
                                <option>Koronadal City</option>
                                
                            </select>
                        </div>
                    </div>
                    
                    <!-- Payment Details Section -->
                    <div class="form-section">
                        <h3></h3>
                        <div class="form-row">
                            <div class="form-group full-width">
                                <label class="form-label">NOTES</label>
                                <textarea class="form-control"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Responsibility Center</label>
                                <input type="text" class="form-control">
                            </div>
                             
                            
                        </div>
                    </div>
                
                    <!-- Accounting Entry Section -->
                    <div class="form-section">
                        <h3>Accounting Entry</h3>
                        <div class="table-responsive">
                            <table class="accounting-entry-table">
                                <thead>
                                    <tr>
                                        <th>Account Title</th>
                                        <th>OO/PAP</th>
                                        <th>UACS Object Code</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <select class="form-control">
                                                <option>Select Account</option>
                                                <option>Supplies Expense</option>
                                                <option>Traveling Expenses - Local</option>
                                                <option>Representation Expenses</option>
                                                <option>Accounts Payable</option>
                                            </select>
                                        </td>
                                        <td><input type="text" class="form-control"></td>
                                        <td><input type="number" class="form-control" step="0.01"></td>
                                        <td><input type="number" class="form-control" step="0.01"></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <select class="form-control">
                                                <option>Select Account</option>
                                                <option>Supplies Expense</option>
                                                <option>Traveling Expenses - Local</option>
                                                <option>Representation Expenses</option>
                                                <option>Accounts Payable</option>
                                            </select>
                                        </td>
                                        <td><input type="text" class="form-control"></td>
                                        <td><input type="number" class="form-control" step="0.01"></td>
                                        <td><input type="number" class="form-control" step="0.01"></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;">
                                                <ion-icon name="add-outline"></ion-icon> Add Row
                                            </button>
                                        </td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
           
                    
                    <!-- Receipt Section -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Chief Administrative Officer</label>
                                <select class="form-control">
                                    <option>HAZEL E. HAUTEA</option>
                               
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Budget Officer</label>
                                <select class="form-control">
                                    <option>CONNIE M. BARNACHEA</option>
                                  
                                </select>
                            </div>

                        </div>
                       
                    </div> 
                    
                    <!-- Form Buttons -->
                    <div class="btn-container">
                        <button type="button" class="btn btn-secondary">Clear Form</button>
                        <button type="submit" class="btn btn-primary" onclick="redirectToPage()">Submit Voucher</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        function redirectToPage() {
            window.location.href = "ORSForm.html";
          }

    function toggleTaxFields() {
        const applyTaxes = document.getElementById('apply_taxes').checked;
        const taxFieldsContainer = document.getElementById('tax_fields_container');
        
        if (applyTaxes) {
            taxFieldsContainer.classList.remove('hidden');
            calculateTaxes();
        } else {
            taxFieldsContainer.classList.add('hidden');
            calculateWithoutTaxes();
        }
    }
    function calculateWithoutTaxes() {
        const grossAmount = parseFloat(document.getElementById('gross_amount').value) || 0;

        document.getElementById('net_amount').value = grossAmount.toFixed(2);
        
        if (document.getElementById('amount') && !document.getElementById('amount').value) {
            document.getElementById('amount').value = grossAmount.toFixed(2);
        }
    }

    function calculateTaxes() {
        const applyTaxes = document.getElementById('apply_taxes').checked;
        
        if (!applyTaxes) {
            calculateWithoutTaxes();
            return;
        }
        
        const grossAmount = parseFloat(document.getElementById('gross_amount').value) || 0;
        const vatPercentage = parseFloat(document.getElementById('vat_percentage').value) || 0;
        const tax1Percentage = parseFloat(document.getElementById('tax1_percentage').value) || 0;
        const tax2Percentage = parseFloat(document.getElementById('tax2_percentage').value) || 0;
        

        const vatAmount = grossAmount * (vatPercentage / 100);

        const taxBase = grossAmount - vatAmount;
        

        const tax1 = taxBase * (tax1Percentage / 100);
        

        const tax2 = taxBase * (tax2Percentage / 100);

        const netAmount = grossAmount - vatAmount - tax1 - tax2;
        
        document.getElementById('vat_amount').value = vatAmount.toFixed(2);
        document.getElementById('tax_base').value = taxBase.toFixed(2);
        document.getElementById('tax_1').value = tax1.toFixed(2);
        document.getElementById('tax_2').value = tax2.toFixed(2);
        document.getElementById('net_amount').value = netAmount.toFixed(2);
        if (document.getElementById('amount') && !document.getElementById('amount').value) {
            document.getElementById('amount').value = grossAmount.toFixed(2);
        }
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.querySelector('.sidebar');
        const dashboardContainer = document.querySelector('.dashboard-container');
        
        if (sidebar && dashboardContainer) {
            sidebar.addEventListener('click', function(e) {
              
                if (e.target === sidebar || e.target.classList.contains('logo-container') || 
                    e.target.closest('.logo-container')) {
                    dashboardContainer.classList.toggle('collapsed');
                }
            });
        }
        

        const dropdown = document.querySelector('.dropdown');
        
        if (dropdown) {
            dropdown.addEventListener('click', function(e) {
        
                if (!e.target.closest('.dropdown-content')) {
                    e.stopPropagation(); 
                    this.classList.toggle('active');
                }
            });
        }
        
        
        calculateTaxes();
    });
    </script>
</body>
</html>