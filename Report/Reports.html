<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Summary Report</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/report.css ">
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar">
            <div class="logo-container">
                <img src="pictures/dti_logo.png" alt="DTI Logo">
                <div class="logo-text">
                    <h2>DTI</h2>
                    <span class="admin-text">Admin</span>
                </div>
            </div>
            <a href="DVBudgetofficer.html" class="nav-item">
                <ion-icon name="home-outline"></ion-icon>
                <span class="nav-text">Disbursement Voucher</span>
            </a>
            <a href="Reports.html" class="nav-item">
                <ion-icon name="home-outline"></ion-icon>
                <span class="nav-text">Report</span>
            </a>
           
            
        </div>
        <div class="main-content">
            <div class="header">
                <h1>Budget Summary Report</h1>
                <button class="print-btn" onclick="window.print()">
                    <ion-icon name="print-outline"></ion-icon>
                    Print Report
                </button>
            </div>
            <div class="content-wrapper">
                <div class="report-dropdown">
                    <button class="dropdown-button" onclick="toggleDropdown()">
                        <span>FAR 1 - BUDGET SUMMARY REPORT</span>
                        <ion-icon name="chevron-down-outline"></ion-icon>
                    </button>
                    <div class="dropdown-content" id="reportDropdown">
                        <a href="#" class="dropdown-item active">
                            FAR 1 - BUDGET SUMMARY REPORT
                            <div class="dropdown-subtitle">AS OF SEPTEMBER 30, 2021 (3RD QUARTER)</div>
                        </a>
                        <a href="#" class="dropdown-item">
                            FAR 2 - STATEMENT OF ALLOTMENTS
                            <div class="dropdown-subtitle">AS OF SEPTEMBER 30, 2021</div>
                        </a>
                        <a href="#" class="dropdown-item">
                            FAR 3 - OBLIGATION REQUEST STATUS
                            <div class="dropdown-subtitle">AS OF SEPTEMBER 30, 2021</div>
                        </a>
                        <a href="#" class="dropdown-item">
                            FAR 4 - DISBURSEMENT STATUS
                            <div class="dropdown-subtitle">AS OF SEPTEMBER 30, 2021</div>
                        </a>
                    </div>
                </div>
                <div class="stats-container">
                    <div class="stat-card">
                        <h3>Total Allotment</h3>
                        <div class="value">₱170,948,045.08</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Obligations</h3>
                        <div class="value">₱117,914,726.52</div>
                        <div class="percentage">69% of total allotment</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Balances</h3>
                        <div class="value">₱53,033,318.56</div>
                        <div class="percentage">31% remaining</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Discrepancy</h3>
                        <div class="value">₱72,288,233.96</div>
                        <div class="percentage negative">Allotment per FAR</div>
                    </div>
                </div>
                
                <div class="charts-container">
                    <div class="chart-card">
                        <h3>Budget Allocation by Category</h3>
                        <div class="chart-wrapper">
                            <canvas id="budgetAllocationChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Budget Execution Rate</h3>
                        <div class="chart-wrapper">
                            <canvas id="executionRateChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="program-table-container">
                    <h3>Major Programs Budget Summary</h3>
                    <table class="program-table">
                        <thead>
                            <tr>
                                <th>Program</th>
                                <th>Allotment</th>
                                <th>Obligations</th>
                                <th>Balance</th>
                                <th>Execution Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>PS (Personal Services)</td>
                                <td>₱62,389,630.62</td>
                                <td>₱48,686,774.69</td>
                                <td>₱13,702,855.93</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 78%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">78%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>MOOE</td>
                                <td>₱103,424,414.46</td>
                                <td>₱65,441,352.99</td>
                                <td>₱37,983,061.57</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 63%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">63%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RLIP</td>
                                <td>₱5,134,000.00</td>
                                <td>₱3,786,598.84</td>
                                <td>₱1,347,401.06</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 74%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">74%</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="special-projects">
                    <h3>Special Projects Summary</h3>
                    <div class="project-items">
                        <div class="project-card">
                            <h4>Youth Entrepreneurship Program</h4>
                            <div class="budget">₱576,200.00</div>
                            <span class="status status-active">Active</span>
                        </div>
                        <div class="project-card">
                            <h4>Coffee ICE</h4>
                            <div class="budget">₱40,000.00</div>
                            <span class="status status-active">Active</span>
                        </div>
                        <div class="project-card">
                            <h4>WERABALES ICE</h4>
                            <div class="budget">₱40,000.00</div>
                            <span class="status status-active">Active</span>
                        </div>
                        <div class="project-card">
                            <h4>Rubber ICE</h4>
                            <div class="budget">₱100,000.00</div>
                            <span class="status status-pending">Pending</span>
                        </div>
                        <div class="project-card">
                            <h4>Palm Oil Industry</h4>
                            <div class="budget">₱50,000.00</div>
                            <span class="status status-active">Active</span>
                        </div>
                        <div class="project-card">
                            <h4>Processed Fruits & Nuts</h4>
                            <div class="budget">₱50,000.00</div>
                            <span class="status status-active">Active</span>
                        </div>
                    </div>
                </div>
                
                <div class="program-table-container">
                    <h3>Rapid Growth Projects (GAA 2021)</h3>
                    <table class="program-table">
                        <thead>
                            <tr>
                                <th>Project</th>
                                <th>Allotment</th>
                                <th>Obligations</th>
                                <th>Balance</th>
                                <th>Execution Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>RAPID - LP (MOOE)</td>
                                <td>₱7,013,035.26</td>
                                <td>₱4,346,584.13</td>
                                <td>₱2,666,451.13</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 62%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">62%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RAPID - LP (CAPITAL OUTLAY)</td>
                                <td>₱1,168,840.00</td>
                                <td>₱0.00</td>
                                <td>₱1,168,640.00</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 0%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">0%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RAPID - GoP</td>
                                <td>₱2,280,991.15</td>
                                <td>₱322,434.75</td>
                                <td>₱1,958,556.40</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 14%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">14%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RAPID - GoP (Salaries)</td>
                                <td>₱3,833,473.82</td>
                                <td>₱1,445,053.93</td>
                                <td>₱2,388,419.89</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 38%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">38%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RAPID - CIG (LP-CO)</td>
                                <td>₱114,400.00</td>
                                <td>₱0.00</td>
                                <td>₱114,400.00</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 0%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">0%</div>
                                </td>
                            </tr>
                            <tr>
                                <td>RAPID - CIG (GRANT)</td>
                                <td>₱1,031,189.00</td>
                                <td>₱0.00</td>
                                <td>₱1,031,189.00</td>
                                <td>
                                    <div class="progress-container">
                                        <div class="progress-bar" style="width: 0%"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 0.8rem;">0%</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sidebar toggle functionality
        const sidebar = document.querySelector('.sidebar');
        const dashboardContainer = document.querySelector('.dashboard-container');
        
        sidebar.addEventListener('click', function(e) {
            dashboardContainer.classList.toggle('collapsed');
        });
        
        // Add scroll event listener for header
        window.addEventListener('scroll', function() {
            const header = document.querySelector('.header');
            
            if (window.scrollY > 20) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        

        function toggleDropdown() {
            document.getElementById("reportDropdown").classList.toggle("show");
        }
        
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.dropdown-button') && !event.target.matches('.dropdown-button *')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
        // Budget Allocation Chart
        const allocationCtx = document.getElementById('budgetAllocationChart').getContext('2d');
        new Chart(allocationCtx, {
            type: 'bar',
            data: {
                labels: ['PS', 'MOOE', 'RLIP', 'Special Projects', 'Rapid Growth'],
                datasets: [{
                    label: 'Allotment',
                    data: [62389630.62, 103424414.46, 5134000.00, 1138360.00, 15441729.23],
                    backgroundColor: '#0077b6'
                }, {
                    label: 'Obligations',
                    data: [48686774.69, 65441352.99, 3786598.84, 855848.00, 6114072.81],
                    backgroundColor: '#00b4d8'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '₱' + value.toLocaleString('en-PH', { maximumFractionDigits: 0 });
                            }
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ₱' + context.raw.toLocaleString('en-PH', { maximumFractionDigits: 2 });
                            }
                        }
                    }
                }
            }
        });
        const executionCtx = document.getElementById('executionRateChart').getContext('2d');
        new Chart(executionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Obligated', 'Remaining Balance'],
                datasets: [{
                    data: [69, 31],
                    backgroundColor: ['#0077b6', '#e9ecef']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.label + ': ' + context.raw + '%';
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>



